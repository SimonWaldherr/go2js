<!DOCTYPE html>
<html>
  <head>
    <title>Go2JS</title>
    <!-- <script src="https://cdn.jsdelivr.net/npm/go2js/build/index.js"></script> -->
    <script src="index.js"></script>
  </head>
  <body>
    check console
    <textarea id="ta" onkeyup="run();">
package main
import "fmt"
func main() {fmt.Println("Hello, from Go")
//js.Global().Call("alert", "Hello, JavaScript")
//println("Hello, JS console")
}
    </textarea>
    <script>
      function run() {
        code = document.getElementById('ta').value;
        
        console.log(code);
        var ret = window.go2js
          .format(code)
          .then((formatted) => {
            console.log(formatted);
            //return window.go2js.compile(formatted, 'https://cdn.jsdelivr.net/npm/go2js/build');
            //return window.go2js.compile(formatted, './');
            return window.go2js.compile(formatted);
          })
          .then(eval)
          .catch(console.warn);
          //console.log(ret);
      }
      
    </script>
  </body>
</html>
